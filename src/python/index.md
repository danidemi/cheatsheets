Python
======

Interpreter
-----------

```
$ python --help
usage: C:\Python36\python.exe [option] ... [-c cmd | -m mod | file | -] [arg] ...
Options and arguments (and corresponding environment variables):

-c cmd : program passed in as string (terminates option list)
-h     : print this help message and exit (also --help)
-m mod : run library module as a script (terminates option list). This is important for lib as venv
-v     : verbose (trace import statements); also PYTHONVERBOSE=x can be supplied multiple times to increase verbosity
file   : program read from script file
-      : program read from stdin (default; interactive mode if a tty)
arg ...: arguments passed to program in sys.argv[1:]
         
-b     : issue warnings about str(bytes_instance), str(bytearray_instance)
         and comparing bytes/bytearray with str. (-bb: issue errors)
-B     : don't write .pyc files on import; also PYTHONDONTWRITEBYTECODE=x
-d     : debug output from parser; also PYTHONDEBUG=x
-E     : ignore PYTHON* environment variables (such as PYTHONPATH)
-i     : inspect interactively after running script; forces a prompt even
         if stdin does not appear to be a terminal; also PYTHONINSPECT=x
-I     : isolate Python from the user's environment (implies -E and -s)
-O     : optimize generated bytecode slightly; also PYTHONOPTIMIZE=x
-OO    : remove doc-strings in addition to the -O optimizations
-q     : don't print version and copyright messages on interactive startup
-s     : don't add user site directory to sys.path; also PYTHONNOUSERSITE
-S     : don't imply 'import site' on initialization
-u     : unbuffered binary stdout and stderr, stdin always buffered;
         also PYTHONUNBUFFERED=x
         see man page for details on internal buffering relating to '-u'
-V     : print the Python version number and exit (also --version)
         when given twice, print more information about the build
-W arg : warning control; arg is action:message:category:module:lineno
         also PYTHONWARNINGS=arg
-x     : skip first line of source, allowing use of non-Unix forms of #!cmd
-X opt : set implementation-specific option

Other environment variables:
PYTHONSTARTUP: file executed on interactive startup (no default)
PYTHONPATH   : ';'-separated list of directories prefixed to the
               default module search path.  The result is sys.path.
PYTHONHOME   : alternate <prefix> directory (or <prefix>;<exec_prefix>).
               The default module search path uses <prefix>\lib.
PYTHONCASEOK : ignore case in 'import' statements (Windows).
PYTHONIOENCODING: Encoding[:errors] used for stdin/stdout/stderr.
PYTHONFAULTHANDLER: dump the Python traceback on fatal errors.
PYTHONHASHSEED: if this variable is set to 'random', a random value is used
   to seed the hashes of str, bytes and datetime objects.  It can also be
   set to an integer in the range [0,4294967295] to get hash values with a
   predictable seed.
PYTHONMALLOC: set the Python memory allocators and/or install debug hooks
   on Python memory allocators. Use PYTHONMALLOC=debug to install debug
   hooks.

```

Virtual Environments
--------------------
* system packages (packages that are part of the standard Python library), 
* site packages => 3rd party

Python can’t differentiate between versions in the site-packages directory. 
So both v1.0.0 and v2.0.0 would reside in the same directory with the same name.

So, => virtual environments.

### pyenv (Python 3)

```
$ mkdir python-virtual-environments && cd python-virtual-environments
python3 -m venv myenv
source env/bin/activate
...do stuff in this environment as...
pip -q install bcrypt
deactivate
```

### virtualenv (Python 2)
...when I'll use Python2




Modules, Packages
-----------------

* module => a way to put definitions in a file and use them in a script or in an interactive instance of the interpreter
* can be imported => into other modules or into the main module

The file name is the module name with the suffix .py

global variable __name__ => the module name

the author of a module can use global variables in the module without worrying about accidental clashes with a user’s global variables.

### Import Modules
Several styles

```
import fibo
fibo.fib(1000)
```

```
from fibo import fib, fib2
fib(1000)
```

```
from fibo import *
fib(500)
```

```
import fibo as fib
fib.fib(500)
```

```
from fibo import fib as fibonacci
fibonacci(500)
```

### Standard Modules

* sys => always available
* winreg => only on windows

### Module Inspection

```
import fibo, sys
dir(fibo)
```

### Packages

Example about how to structure source files for a sound editing application.
```
sound/                          Top-level package
      __init__.py               Initialize the sound package
      formats/                  Subpackage for file format conversions
              __init__.py
              wavread.py
              aiffread.py
              ...
      effects/                  Subpackage for sound effects
              __init__.py
              echo.py
              surround.py
              ...
      filters/                  Subpackage for filters
              __init__.py
              equalizer.py
              vocoder.py
              ...
```
### Import PAckages

```
import sound.effects.echo
sound.effects.echo.echofilter(input, output, delay=0.7, atten=4)
```

```
from sound.effects import echo
echo.echofilter(input, output, delay=0.7, atten=4)
```

```
from sound.effects.echo import echofilter
echofilter(input, output, delay=0.7, atten=4)
```

```
from sound.effects import *
```
This is a very special case explaied here: https://docs.python.org/3/tutorial/modules.html#importing-from-a-package

```
from . import echo
from .. import formats
from ..filters import equalizer
```
This is for intra package

Package Managers
----------------

<https://pypi.org/>

### pip

Pip version
    pip --version

Install a package
    pip install requests

Update pip
    python -m pip install --upgrade pip

List installed packages
    pip list
    
Freeze dependencies
    pip freeze > requirements.txt
    pip install -r requirements.txt

```
pip help

Usage:
  pip <command> [options]

Commands:
  install                     Install packages.
  download                    Download packages.
  uninstall                   Uninstall packages.
  freeze                      Output installed packages in requirements format.
  list                        List installed packages.
  show                        Show information about installed packages.
  check                       Verify installed packages have compatible 
                              dependencies.
  config                      Manage local and global configuration.
  search                      Search PyPI for packages.
  wheel                       Build wheels from your requirements.
  hash                        Compute hashes of package archives.
  completion                  A helper command used for command completion.
  help                        Show help for commands.

General Options:
  -h, --help                  Show help.
  --isolated                  Run pip in an isolated mode, ignoring environment 
                              variables and user configuration.
  -v, --verbose               Give more output. Option is additive, and can be 
                              used up to 3 times.
  -V, --version               Show version and exit.
  -q, --quiet                 Give less output. Option is additive, and can be 
                              used up to 3 times (corresponding to WARNING, 
                              ERROR, and CRITICAL logging levels).
  --log <path>                Path to a verbose appending log.
  --proxy <proxy>             Specify a proxy in the form 
                              [user:passwd@]proxy.server:port.
  --retries <retries>         Maximum number of retries each connection should 
                              attempt (default 5 times).
  --timeout <sec>             Set the socket timeout (default 15 seconds).
  --exists-action <action>    Default action when a path already exists: 
                              (s)witch, (i)gnore, (w)ipe, (b)ackup, (a)bort).
  --trusted-host <hostname>   Mark this host as trusted, even though it does 
                              not have valid or any HTTPS.
  --cert <path>               Path to alternate CA bundle.
  --client-cert <path>        Path to SSL client certificate, a single file 
                              containing the private key and the certificate in 
                              PEM format.
  --cache-dir <dir>           Store the cache data in <dir>.
  --no-cache-dir              Disable the cache.
  --disable-pip-version-check
                              Don't periodically check PyPI to determine 
                              whether a new version of pip is available for 
                              download. Implied with --no-index.
```
    



References
----------
* GUI
  * <https://www.reddit.com/r/Python/comments/a9t69r/what_is_your_goto_fast_and_quick_python_gui/>
  * <https://pysimplegui.readthedocs.io/en/latest/>
* Modules & Packages
  * <https://docs.python.org/3/tutorial/modules.html>
* Package Managers
  * <https://realpython.com/what-is-pip/>
* Virtual Environments
  * <https://realpython.com/python-virtual-environments-a-primer/>
  * <https://realpython.com/python-virtual-environments-a-primer/#using-virtual-environments>
